# Вид ROM
<img width="262" height="453" alt="image" src="https://github.com/user-attachments/assets/447505d5-219c-4c3b-9ffc-b0c305654214" />  
  
На скриншоте показана память только для чтения — ROM. В неё будет записываться прошивка, написанная на fasm (Factorio assembly). Хотя на скрине видны предметы из креатива, это лишь для красоты: если заменить сундуки на конвейеры, схему всё ещё можно считать ванильной. Слева расположен конвейер загрузки (направлен вверх), справа — конвейер выгрузки (направлен вниз). Прошивка такой памяжи же происходит при помощи [Клавиатуры прошивки](Factorio/Info/Memory/rom_keyboard.md). Рассмотрим схему памяти поподробнее.  

# Переменные команд
- A - число
- S - запись
- R - степерь всё
- I - индекс памяти

# Команды
1) Запись  
   Для записи необходимо подать по зелёному проводу следующие параметры:
   - I - индекс
   - S - команда записи
   - A - число
2) Стирание
   Для стирания необходимо подать по зелёному проводу следующие параметры:
   - R - команда стирания  
   После этого, всё, чтобы было записано, сотрётся.
3) Чтение
   Для чтения необходимо подать по зелёному проводу следующие параметры:
   - I - индекс памяти
   После этого пойдёт ответ по красному проводу - записанный байт.

# Индексы памяти
| ![image](https://github.com/user-attachments/assets/d92024ef-ae5e-4f01-a2ee-cf6d94824d71) | Чёрным цветом на скриншоте выделены комбинаторы, отвечающие за индекс байта. |
|---------------------------------|--------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/5c444717-e3f6-4ab3-a96b-1dbf414f45f3) | С помощью постоянного комбинатора есть возможность задать начало индексации. Это можно использовать для создания сетки байтов. Например: первая сетка 0-64 байта, а на следующей комбинатор начнёт не с 0, а с 65 и т.д. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/bffc74b0-ca22-4f7b-804d-269590620f3f) | Выход от постоянного комбинатора идёт в арифметический, арифметический комбинатор увеличивает значение на 1 и подаёт его на вход следующего и т.д. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/63c05f47-77d8-4e07-a3fc-9e6d59679c62) | Выход от арифметического комбинатора, отвечающего за индекс идёт ко входам двум сравнивающим комбинаторам. Жёлтый отвечает за запись, оранжевый - стирание данных. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

# Запись
| ![image](https://github.com/user-attachments/assets/2d8f4183-12a9-4dfa-9b0d-10529ee71b54) | Жёлтым цветом на скриншоте выделены комбинаторы, отвечающие за запись информации. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/3b15fe05-0345-4ea1-bcff-537a14621f7f) | Комбинаторы, выделенный жёлтым цветом на прошлом скриношоте имеют такие параметры. Т.е. если индексы при записи совпадают и подана команда записи (S), то число A передаётся дальше. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/14117be0-54ee-4c41-8805-2844157dba57) | Далее арифметически комбинаторы получают значение A и из него рассчитывают размер пачки для манипулятора. Делается это для ускорения записи, т.к. максимальный размер пачки такого манипулятора - 12. Рассчитывает он так: необходимое значение - установленное значени и на выходе получается то, что осталось заполнить. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/cbe3a65d-fe24-4f3f-a752-36654e92e3ec) | Установления размера пачки для манипулятора. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

# Стирание
Процесс стирания - самое простое в этой схеме.

| ![image](https://github.com/user-attachments/assets/476df9ce-89f9-4396-a7d6-e8bbf16c36c7) | Если подана команда R (стирание), то манипулятор просто выкладывает предметы из сундука хранения. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

# Вывод значений

| ![image](https://github.com/user-attachments/assets/258762ad-3632-43e2-a94f-c49665127653) | За вывод отвечают последние комбинаторы, они выделены жёлтым цветом. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|

| ![image](https://github.com/user-attachments/assets/91df7978-b652-4aae-8ab8-880f41309161) | Значения выводятся, если подан I на вход, а также если подана команда R, чтобы отслеживать процесс стирания. |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
